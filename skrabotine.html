<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="styles.css" />
	<title>Web stranica</title>
</head>

<script>
	let gMouseDownX = 0;
	let gMouseDownY = 0;
	let gMouseDownOffsetX = 0;
	let gMouseDownOffsetY = 0;

	function addListeners() {
	    const list = document.getElementsByClassName("tijelo");
	    console.log(list)
	    for(let i = 0; i < list.length; i++) {
	    	list[i].addEventListener('mousedown', mouseDown, false);
	    }
	    window.addEventListener('mouseup', mouseUp, false);
	}

	function mouseUp() {
	    window.removeEventListener('mousemove', divMove, true);
	}

	function mouseDown(e) {
	    gMouseDownX = e.clientX;
	    gMouseDownY = e.clientY;

	    var div = e.target;

	    let leftPart = "";
	    if(!div.style.left)
	        leftPart+="0px";  
	    else
	        leftPart = div.style.left;
	    let leftPos = leftPart.indexOf("px");
	    let leftNumString = leftPart.slice(0, leftPos);
	    gMouseDownOffsetX = gMouseDownX - parseInt(leftNumString,10);

	    let topPart = "";
	    if(!div.style.top)
	        topPart+="0px";    
	    else
	        topPart = div.style.top;
	    let topPos = topPart.indexOf("px");
	    let topNumString = topPart.slice(0, topPos);   
	    gMouseDownOffsetY = gMouseDownY - parseInt(topNumString,10);

	    window.addEventListener('mousemove', divMove, true);
	}

	function divMove(e){
	    var div = e.target;
	    div.style.position = 'absolute';
	    let topAmount = e.clientY - gMouseDownOffsetY;
	    div.style.top = topAmount + 'px';
	    let leftAmount = e.clientX - gMouseDownOffsetX;
	    div.style.left = leftAmount + 'px';
	}

	window.addEventListener("DOMContentLoaded", (event) => {
    	addListeners();
    });
	
</script>

<body style="margin-top:5%;margin-left:8%;margin-right:5%;">
	<div>
		<h1>SKRABOTINE</h1>
	</div>
	<div>
		<div style="position: absolute;">
			<img class="tijelo" ondragstart="return false;" src="assets/tijelo1.png">
		</div>
		<div style="position: absolute;">
			<img class="tijelo" ondragstart="return false;" src="assets/tijelo2.png">
		</div>
		<div style="position: absolute;">
			<img class="tijelo" ondragstart="return false;" src="assets/tijelo3.png">
		</div>
		<div style="position: absolute;">
			<img class="tijelo" ondragstart="return false;" src="assets/tijelo4.png">
		</div>
		<div style="position: absolute;">
			<img class="tijelo" ondragstart="return false;" src="assets/tijelo5.png">
		</div>
	</div>
</body>

</html>